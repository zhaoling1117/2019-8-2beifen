{
  "uid" : "965ac9c85b7d150f",
  "name" : "test_login",
  "fullName" : "test_case.ui.mall.test_mall_add_1#test_login",
  "historyId" : "1b59d0185c4d1dccbdf4f8c3533e41d5",
  "time" : {
    "start" : 1564628881952,
    "stop" : 1564628915094,
    "duration" : 33142
  },
  "status" : "broken",
  "statusMessage" : "AttributeError: 'BaseUI' object has no attribute 'page_source'",
  "statusTrace" : "base = <tool.base_ui.BaseUI object at 0x039FE1B0>\n\n    @allure.feature(\"添加商品分类流程\")\n    @allure.story(\"\")\n    def test_login(base):\n        base.get(\"打开登录界面\",'http://qa.yansl.com/#/login')\n    #输入用户名//input[@type=\"text\"]\n        base.send_keys(\"输入用户名\",'''//input[@type=\"text\"]''',\"admin\")\n    #输入密码//input[@type=\"password\"]\n        base.send_keys(\"输入密码\",'''//input[@type=\"password\"]''',\"123456\")\n    #点击登录//span[contains(text(),'登录')]\n        base.click(\"点击登录\",\"//span[contains(text(),'登录')]\")\n    #点击残忍拒绝//span[text()='残忍拒绝']\n        base.click(\"点击残忍拒绝\",\"//span[text()='残忍拒绝']\")\n    #点击登录\n        base.click(\"点击登录\", \"//span[contains(text(),'登录')]\")\n        sleep(5)\n    #断言 页面跳转至首页\n        page_source = base.driver.page_source\n    \n        with allure.step('登录界面跳转断言'):\n            allure.attach(page_source,\"实际结果\",allure.attachment_type.TEXT)\n            allure.attach(\"首页\", \"预期结果\", allure.attachment_type.TEXT)\n            assert_tool.assert_in(page_source, '首页')\n    # 点击商品 (//span[contains(text(),'商品')])[1]\n        base.click(\"点击商品\",'''(//span[contains(text(),'商品')])[1]''')\n        # 点击添加商品 //span[contains(text(),'添加商品')]\n        base.click(\"点击添加商品\",'''//span[contains(text(),'添加商品')]''')\n        # 点击商品分类 //label[contains(text(),'商品分类')]/../div//input\n        base.click(\"点击商品分类\",\"\"\"//label[contains(text(),'商品分类')]/../div//input\"\"\")\n        # 点击下拉框第一个选项 //ul[@role='menu' and contains(@id,'cascader-menu')]/li[1]\n        base.click(\"点击下拉框第一个选项\",\"//ul[@role='menu' and contains(@id,'cascader-menu')]/li[1]\")\n        # 点击二级下拉菜单第一个选项  //li[@role='menuitem' and contains(@id,'menu-')][1]\n        base.click(\"点击二级下拉菜单第一个选项\",'''//li[@role='menuitem' and contains(@id,'menu-')][1]''')\n        # 填写商品名称 //label[contains(text(),'商品名称')]/../div//input\n        base.send_keys(\"填写商品名称\",\"//label[contains(text(),'商品名称')]/../div//input\",\"小米11\")\n        # 填写副标题 //label[contains(text(),'副标题')]/../div//input\n        base.send_keys(\"填写副标题\",'''//label[contains(text(),'副标题')]/../div//input''','手机')\n        # 点击商品品牌 //label[contains(text(),'商品品牌')]/../div//input\n        base.click(\"点击商品品牌\",\"\"\"//label[contains(text(),'商品品牌')]/../div//input\"\"\")\n        # 点击下拉菜单中第一个选项 (//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[2]/li[1]\n        base.click(\"点击下拉菜单中第一个选项\",\"\"\"(//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[2]/li[1]\"\"\")\n        # 滚动窗口\n        base.scroll_screen(\"滚动窗口\")\n        #点击下一步，填写商品促销 //span[text()='下一步，填写商品促销']\n        base.click(\"点击下一步，填写商品促销\",'''//span[text()='下一步，填写商品促销']''')\n        #滚动窗口\n        base.scroll_screen(\"滚动窗口\")\n        #点击下一步，填写商品属性//span[text()='下一步，填写商品属性']\n        base.click(\"点击下一步，填写商品属性\", '''//span[text()='下一步，填写商品属性']''')\n        #滚动窗口\n        base.scroll_screen(\"滚动窗口\")\n        # # #切换窗口至iframe\n        # # base.switch_to_frame(\"切换窗口至iframe \",'(//iframe)[1]')\n        #\n        # #输入电脑端详情   //body/p\n        # base.send_keys(\"#输入电脑端详情 \",\"//body\",'测试数据')\n        # #切出iframe\n        # base.switch_to_content(\"切出iframe\")\n        #\n        # # 点击下一步，选择商品关联\n        base.click(\"点击下一步，选择商品关联\", '''//span[text()='下一步，选择商品关联']''')\n        base.click(\"点击完成，提交商品\",'''//span[text()='完成，提交商品']''')\n        base.click(\"点击确定\",'''//span[contains(text(),'确定')]''')\n    \n>       print(base.page_source())\nE       AttributeError: 'BaseUI' object has no attribute 'page_source'\n\ntest_case\\ui\\mall\\test_mall_add_1.py:91: AttributeError",
  "flaky" : false,
  "beforeStages" : [ {
    "name" : "base",
    "time" : {
      "start" : 1564628878082,
      "stop" : 1564628881950,
      "duration" : 3868
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "hasContent" : false,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false
  } ],
  "testStage" : {
    "status" : "broken",
    "statusMessage" : "AttributeError: 'BaseUI' object has no attribute 'page_source'",
    "statusTrace" : "base = <tool.base_ui.BaseUI object at 0x039FE1B0>\n\n    @allure.feature(\"添加商品分类流程\")\n    @allure.story(\"\")\n    def test_login(base):\n        base.get(\"打开登录界面\",'http://qa.yansl.com/#/login')\n    #输入用户名//input[@type=\"text\"]\n        base.send_keys(\"输入用户名\",'''//input[@type=\"text\"]''',\"admin\")\n    #输入密码//input[@type=\"password\"]\n        base.send_keys(\"输入密码\",'''//input[@type=\"password\"]''',\"123456\")\n    #点击登录//span[contains(text(),'登录')]\n        base.click(\"点击登录\",\"//span[contains(text(),'登录')]\")\n    #点击残忍拒绝//span[text()='残忍拒绝']\n        base.click(\"点击残忍拒绝\",\"//span[text()='残忍拒绝']\")\n    #点击登录\n        base.click(\"点击登录\", \"//span[contains(text(),'登录')]\")\n        sleep(5)\n    #断言 页面跳转至首页\n        page_source = base.driver.page_source\n    \n        with allure.step('登录界面跳转断言'):\n            allure.attach(page_source,\"实际结果\",allure.attachment_type.TEXT)\n            allure.attach(\"首页\", \"预期结果\", allure.attachment_type.TEXT)\n            assert_tool.assert_in(page_source, '首页')\n    # 点击商品 (//span[contains(text(),'商品')])[1]\n        base.click(\"点击商品\",'''(//span[contains(text(),'商品')])[1]''')\n        # 点击添加商品 //span[contains(text(),'添加商品')]\n        base.click(\"点击添加商品\",'''//span[contains(text(),'添加商品')]''')\n        # 点击商品分类 //label[contains(text(),'商品分类')]/../div//input\n        base.click(\"点击商品分类\",\"\"\"//label[contains(text(),'商品分类')]/../div//input\"\"\")\n        # 点击下拉框第一个选项 //ul[@role='menu' and contains(@id,'cascader-menu')]/li[1]\n        base.click(\"点击下拉框第一个选项\",\"//ul[@role='menu' and contains(@id,'cascader-menu')]/li[1]\")\n        # 点击二级下拉菜单第一个选项  //li[@role='menuitem' and contains(@id,'menu-')][1]\n        base.click(\"点击二级下拉菜单第一个选项\",'''//li[@role='menuitem' and contains(@id,'menu-')][1]''')\n        # 填写商品名称 //label[contains(text(),'商品名称')]/../div//input\n        base.send_keys(\"填写商品名称\",\"//label[contains(text(),'商品名称')]/../div//input\",\"小米11\")\n        # 填写副标题 //label[contains(text(),'副标题')]/../div//input\n        base.send_keys(\"填写副标题\",'''//label[contains(text(),'副标题')]/../div//input''','手机')\n        # 点击商品品牌 //label[contains(text(),'商品品牌')]/../div//input\n        base.click(\"点击商品品牌\",\"\"\"//label[contains(text(),'商品品牌')]/../div//input\"\"\")\n        # 点击下拉菜单中第一个选项 (//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[2]/li[1]\n        base.click(\"点击下拉菜单中第一个选项\",\"\"\"(//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[2]/li[1]\"\"\")\n        # 滚动窗口\n        base.scroll_screen(\"滚动窗口\")\n        #点击下一步，填写商品促销 //span[text()='下一步，填写商品促销']\n        base.click(\"点击下一步，填写商品促销\",'''//span[text()='下一步，填写商品促销']''')\n        #滚动窗口\n        base.scroll_screen(\"滚动窗口\")\n        #点击下一步，填写商品属性//span[text()='下一步，填写商品属性']\n        base.click(\"点击下一步，填写商品属性\", '''//span[text()='下一步，填写商品属性']''')\n        #滚动窗口\n        base.scroll_screen(\"滚动窗口\")\n        # # #切换窗口至iframe\n        # # base.switch_to_frame(\"切换窗口至iframe \",'(//iframe)[1]')\n        #\n        # #输入电脑端详情   //body/p\n        # base.send_keys(\"#输入电脑端详情 \",\"//body\",'测试数据')\n        # #切出iframe\n        # base.switch_to_content(\"切出iframe\")\n        #\n        # # 点击下一步，选择商品关联\n        base.click(\"点击下一步，选择商品关联\", '''//span[text()='下一步，选择商品关联']''')\n        base.click(\"点击完成，提交商品\",'''//span[text()='完成，提交商品']''')\n        base.click(\"点击确定\",'''//span[contains(text(),'确定')]''')\n    \n>       print(base.page_source())\nE       AttributeError: 'BaseUI' object has no attribute 'page_source'\n\ntest_case\\ui\\mall\\test_mall_add_1.py:91: AttributeError",
    "steps" : [ {
      "name" : "登录界面跳转断言",
      "time" : {
        "start" : 1564628896121,
        "stop" : 1564628896124,
        "duration" : 3
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "9bbeb62536e2b22c",
        "name" : "实际结果",
        "source" : "9bbeb62536e2b22c.txt",
        "type" : "text/plain",
        "size" : 81813
      }, {
        "uid" : "5f29a9a4f92e91c7",
        "name" : "预期结果",
        "source" : "5f29a9a4f92e91c7.txt",
        "type" : "text/plain",
        "size" : 6
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "hasContent" : true,
      "attachmentsCount" : 2,
      "shouldDisplayMessage" : false
    } ],
    "attachments" : [ {
      "uid" : "c7a730227352338b",
      "name" : "打开登录界面之前",
      "source" : "c7a730227352338b.png",
      "type" : "image/png",
      "size" : 6732
    }, {
      "uid" : "189c8abcb670a3c",
      "name" : "打开登录界面之后",
      "source" : "189c8abcb670a3c.png",
      "type" : "image/png",
      "size" : 37916
    }, {
      "uid" : "78669d6a93b17fdf",
      "name" : "输入用户名之前",
      "source" : "78669d6a93b17fdf.png",
      "type" : "image/png",
      "size" : 37916
    }, {
      "uid" : "b7c2dc694735076d",
      "name" : "输入用户名之后",
      "source" : "b7c2dc694735076d.png",
      "type" : "image/png",
      "size" : 37902
    }, {
      "uid" : "66ce4b5340a49608",
      "name" : "输入密码之前",
      "source" : "66ce4b5340a49608.png",
      "type" : "image/png",
      "size" : 37884
    }, {
      "uid" : "a7b192e18f90364e",
      "name" : "输入密码之后",
      "source" : "a7b192e18f90364e.png",
      "type" : "image/png",
      "size" : 37913
    }, {
      "uid" : "92cfc45ce7edabdc",
      "name" : "点击登录之前",
      "source" : "92cfc45ce7edabdc.png",
      "type" : "image/png",
      "size" : 37952
    }, {
      "uid" : "c83bad0ced6639dc",
      "name" : "点击登录之后",
      "source" : "c83bad0ced6639dc.png",
      "type" : "image/png",
      "size" : 50442
    }, {
      "uid" : "8c0e5d52e625045b",
      "name" : "点击残忍拒绝之前",
      "source" : "8c0e5d52e625045b.png",
      "type" : "image/png",
      "size" : 40157
    }, {
      "uid" : "494e07b947e186f7",
      "name" : "点击残忍拒绝之后",
      "source" : "494e07b947e186f7.png",
      "type" : "image/png",
      "size" : 43783
    }, {
      "uid" : "a2035feedba7d9c4",
      "name" : "点击登录之前",
      "source" : "a2035feedba7d9c4.png",
      "type" : "image/png",
      "size" : 37956
    }, {
      "uid" : "92497b0b28f0e5be",
      "name" : "点击登录之后",
      "source" : "92497b0b28f0e5be.png",
      "type" : "image/png",
      "size" : 38724
    }, {
      "uid" : "f70e8aa4703c45af",
      "name" : "点击商品之前",
      "source" : "f70e8aa4703c45af.png",
      "type" : "image/png",
      "size" : 59370
    }, {
      "uid" : "475e8d013d595dbc",
      "name" : "点击商品之后",
      "source" : "475e8d013d595dbc.png",
      "type" : "image/png",
      "size" : 66505
    }, {
      "uid" : "859ddba8caf9b64b",
      "name" : "点击添加商品之前",
      "source" : "859ddba8caf9b64b.png",
      "type" : "image/png",
      "size" : 65643
    }, {
      "uid" : "cc6f69cb6e1f869d",
      "name" : "点击添加商品之后",
      "source" : "cc6f69cb6e1f869d.png",
      "type" : "image/png",
      "size" : 70246
    }, {
      "uid" : "4beea2fd3c02fdff",
      "name" : "点击商品分类之前",
      "source" : "4beea2fd3c02fdff.png",
      "type" : "image/png",
      "size" : 47250
    }, {
      "uid" : "f4b2bdaa6fd7075",
      "name" : "点击商品分类之后",
      "source" : "f4b2bdaa6fd7075.png",
      "type" : "image/png",
      "size" : 54218
    }, {
      "uid" : "766de92a82187c61",
      "name" : "点击下拉框第一个选项之前",
      "source" : "766de92a82187c61.png",
      "type" : "image/png",
      "size" : 49121
    }, {
      "uid" : "78ccaf3128e84ca",
      "name" : "点击下拉框第一个选项之后",
      "source" : "78ccaf3128e84ca.png",
      "type" : "image/png",
      "size" : 51629
    }, {
      "uid" : "b13dfc445089d6f",
      "name" : "点击二级下拉菜单第一个选项之前",
      "source" : "b13dfc445089d6f.png",
      "type" : "image/png",
      "size" : 51629
    }, {
      "uid" : "b5b3c277ba97ee8c",
      "name" : "点击二级下拉菜单第一个选项之后",
      "source" : "b5b3c277ba97ee8c.png",
      "type" : "image/png",
      "size" : 46269
    }, {
      "uid" : "7fb139def6fd430a",
      "name" : "填写商品名称之前",
      "source" : "7fb139def6fd430a.png",
      "type" : "image/png",
      "size" : 45306
    }, {
      "uid" : "6e5ee5311510d30f",
      "name" : "填写商品名称之后",
      "source" : "6e5ee5311510d30f.png",
      "type" : "image/png",
      "size" : 45766
    }, {
      "uid" : "e094734a16d71445",
      "name" : "填写副标题之前",
      "source" : "e094734a16d71445.png",
      "type" : "image/png",
      "size" : 45737
    }, {
      "uid" : "bfa8ae147072ef7e",
      "name" : "填写副标题之后",
      "source" : "bfa8ae147072ef7e.png",
      "type" : "image/png",
      "size" : 46100
    }, {
      "uid" : "bf4d2552b862bef3",
      "name" : "点击商品品牌之前",
      "source" : "bf4d2552b862bef3.png",
      "type" : "image/png",
      "size" : 46066
    }, {
      "uid" : "d4fac671559636ff",
      "name" : "点击商品品牌之后",
      "source" : "d4fac671559636ff.png",
      "type" : "image/png",
      "size" : 53849
    }, {
      "uid" : "ee6b868f1aef5850",
      "name" : "点击下拉菜单中第一个选项之前",
      "source" : "ee6b868f1aef5850.png",
      "type" : "image/png",
      "size" : 49637
    }, {
      "uid" : "b2c5330668e17baf",
      "name" : "点击下拉菜单中第一个选项之后",
      "source" : "b2c5330668e17baf.png",
      "type" : "image/png",
      "size" : 45870
    }, {
      "uid" : "ff5137f07d4007c2",
      "name" : "滚动窗口之前",
      "source" : "ff5137f07d4007c2.png",
      "type" : "image/png",
      "size" : 45344
    }, {
      "uid" : "1f339f9c8a94b71c",
      "name" : "滚动窗口之后",
      "source" : "1f339f9c8a94b71c.png",
      "type" : "image/png",
      "size" : 37373
    }, {
      "uid" : "a7d763178202472a",
      "name" : "点击下一步，填写商品促销之前",
      "source" : "a7d763178202472a.png",
      "type" : "image/png",
      "size" : 37367
    }, {
      "uid" : "1af166a3c12c5d21",
      "name" : "点击下一步，填写商品促销之后",
      "source" : "1af166a3c12c5d21.png",
      "type" : "image/png",
      "size" : 45312
    }, {
      "uid" : "c08dde63e159e0f4",
      "name" : "滚动窗口之前",
      "source" : "c08dde63e159e0f4.png",
      "type" : "image/png",
      "size" : 45312
    }, {
      "uid" : "37cd9639fa9990c7",
      "name" : "滚动窗口之后",
      "source" : "37cd9639fa9990c7.png",
      "type" : "image/png",
      "size" : 45271
    }, {
      "uid" : "a6602e1099a71f03",
      "name" : "点击下一步，填写商品属性之前",
      "source" : "a6602e1099a71f03.png",
      "type" : "image/png",
      "size" : 45271
    }, {
      "uid" : "82838d6f8e0bc697",
      "name" : "点击下一步，填写商品属性之后",
      "source" : "82838d6f8e0bc697.png",
      "type" : "image/png",
      "size" : 45636
    }, {
      "uid" : "cb865b786fb8d07e",
      "name" : "滚动窗口之前",
      "source" : "cb865b786fb8d07e.png",
      "type" : "image/png",
      "size" : 45636
    }, {
      "uid" : "2da4e49e7ac95918",
      "name" : "滚动窗口之后",
      "source" : "2da4e49e7ac95918.png",
      "type" : "image/png",
      "size" : 37987
    }, {
      "uid" : "8768af62f5f846e0",
      "name" : "点击下一步，选择商品关联之前",
      "source" : "8768af62f5f846e0.png",
      "type" : "image/png",
      "size" : 37987
    }, {
      "uid" : "596b2ccb35fb5ada",
      "name" : "点击下一步，选择商品关联之后",
      "source" : "596b2ccb35fb5ada.png",
      "type" : "image/png",
      "size" : 59507
    }, {
      "uid" : "1384c2f8199356ce",
      "name" : "点击完成，提交商品之前",
      "source" : "1384c2f8199356ce.png",
      "type" : "image/png",
      "size" : 59507
    }, {
      "uid" : "fa618414b7e6fe24",
      "name" : "点击完成，提交商品之后",
      "source" : "fa618414b7e6fe24.png",
      "type" : "image/png",
      "size" : 61799
    }, {
      "uid" : "f4a996894740249",
      "name" : "点击确定之前",
      "source" : "f4a996894740249.png",
      "type" : "image/png",
      "size" : 56737
    }, {
      "uid" : "5a4189507dde210f",
      "name" : "点击确定之后",
      "source" : "5a4189507dde210f.png",
      "type" : "image/png",
      "size" : 7711
    } ],
    "parameters" : [ ],
    "stepsCount" : 1,
    "hasContent" : true,
    "attachmentsCount" : 48,
    "shouldDisplayMessage" : true
  },
  "afterStages" : [ {
    "name" : "base::0",
    "time" : {
      "start" : 1564628915211,
      "stop" : 1564628918244,
      "duration" : 3033
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "hasContent" : false,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false
  } ],
  "labels" : [ {
    "name" : "feature",
    "value" : "添加商品分类流程"
  }, {
    "name" : "story"
  }, {
    "name" : "parentSuite",
    "value" : "test_case.ui.mall"
  }, {
    "name" : "suite",
    "value" : "test_mall_add_1"
  }, {
    "name" : "subSuite"
  }, {
    "name" : "host",
    "value" : "SKY-20190318DNT"
  }, {
    "name" : "thread",
    "value" : "5916-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "test_case.ui.mall.test_mall_add_1"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : true,
  "retry" : true,
  "extra" : {
    "categories" : [ ],
    "tags" : [ ]
  },
  "source" : "965ac9c85b7d150f.json",
  "parameterValues" : [ ]
}